"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e,n){return new Proxy(e,{get(e,r,c){const u=Reflect.get(e,r,c);return null!==(o=u)&&"object"==typeof o?t(u,n):u;var o},set(e,t,r,c){const u=Reflect.get(e,t,c);return Object.is(u,r)||(Reflect.set(e,t,r,c),function(e){let t=0;return function(){t&&cancelAnimationFrame(t),t=requestAnimationFrame(e)}}(n)()),!0}})}function n(){const[,t]=e.useReducer((e=>(e+1)%1e3),0);return t}exports.createReactiveStore=function(n){let r=n,c=new Set;const u=t(r,(()=>{c.forEach((e=>e()))}));return function(){const[,t]=e.useReducer((e=>(e+1)%1e3),0);return c.has(t)||c.add(t),e.useEffect((()=>()=>{c.delete(t)}),[]),u}},exports.createStore=function(t){let n=t,r=new Set;const c=e=>{n={...n,...e},r.forEach((e=>e(n)))};return function(){const[t,u]=e.useState(n);return r.has(u)||r.add(u),e.useEffect((()=>()=>{r.delete(u)}),[]),[t,c]}},exports.useBaseReactive=function(r){const c=n(),[u]=e.useState((()=>t({value:r},c)));return u},exports.useReactive=function(r){const c=n(),[u]=e.useState((()=>t(r,c)));return u};
